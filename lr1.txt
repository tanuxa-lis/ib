Лабораторная работа №1 Учётные записи пользователей в системе линукс. 
_________________________________________________________________________
Цель: изучить содержимое файлов, где хранятся учётные записи и пароли пользователей и групп. 

1.Учётные записи располагаются в файле /etc/passwd 
(просмотр: vim /etc/passwd)
login:x:номер пользователя:Номер группы по умолчанию:...:адрес домашней папки:командная оболочка

2.Пароли хранятся в теневом файле /etc/shadow
доступ на чтение у файла есть только у админа и у группы root
tmp:!:20012:0:99999:7:::
Имя пользователя:Пароль("!"-пароля не существует):Последнее изменение пароля:минимальный возраст пароля:Максимальный возраст пароля:Период предупреждения:Период бездействия:Срок годности:неиспользованный

3.Информация о группах: etc/group
sambashare:x:136:alexander

4.Информация о паролях для групп: etc/gshadow
tmp:!::

5.Права доступа к объектам 
Смена прав доступа к объектам выполняется администратором командой chmod:
sudo chmod 775 <имя объекта>
sudo chmod g-x <имя объекта>

Смена владельцев и группы владельцев выполняется администратором командой chown:
sudo chown <владелец:группа владельцев><имя объекта>
sudo chgrp <группа владельцев><имя объекта>

Режим группового доступа к объектам можно использовать при смене группы, зхаданной по умолчанию:
newgrp <имя группы>

_____________________________________________________________________________

Специальные права доступа к объектам: SUID, GUID, sticky bit
_____________________________________________________________________________

Специальный бит SUID предназначен для запуска файла от имени его владельуа. Эта процедура позволяет получить права на доступ к объектам, которыми может распоряжаться владелец файла.
пример- программа bin/passwd, для функционирования которой нужны права записи в файл etc/shadow
Такие права есть только у пользователя root, поэтому у программы bin/passwd владелец root и установлен в результате любой пользователь может сменить свой пароль, не обращаясь к администратору.

Установка бита осуществляется при помощи программы chmod:
sudo chmod u+s <имя файла>
 или
sudo chmod 4775 <имя файла>

Сброс бита осущестляется аналдогично:
sudo chmod u-s <имя файла>
 или
sudo chmod 0775 <имя файла>

Бит SUID нет смысла применять к папкам.

++++++++++++++++++++++++++++++++++++++++++++++++++++++
Специальный бит GUID предназначен для запуска файла от имени группы владельцев, либо для изменения правил наследования группы владельцев, если он установлен для папки
Установка бита осуществляется при помощи программы chmod:
sudo chmod g+s <имя файла>
 или
sudo chmod 2775 <имя файла>

Права доступа к файлу с установленным GUID:
-rwxrwsr-x 1 student root   0 окт 30 12:55 f1

Права доступа к rfnfkjue с установленным GUID:
drwxrwsr-x 3 student root   4096 окт 30 13:18 F

При установке бита GUID на папку, все объекты, созданные внутри папки, наследуют группу владельцев от родителя.
При этом дочерние папки наследуют бит GUID.

GUID-бит применяется и для файлов и для папок.

Sticky bit - устанавливается только на папки и определяет особые правила удаления объектов внутри папки. Для папок с установленным stycky bit запрещается операция удаления файлов даже для тех пользователей, которые имеют право на запись. Владельцы объектов и пользователи, входящие в группу владельцев папки имеют возможность удалить свои объекты без ограничений.

Устанавливается этот бит при помощи командыф chmod:
sudo chmod o+t <имя папки>
или
sudo 1775 <имя папки>

права до установки спецбита:

Доступ: (0777/)....

Права после установки спецбита:

Доступ: (1777/)....

Попытка удалить файл владельца student от пользователя tmp6:
rm:невозможно удалить 'f1':операция не позволена

При этом файл может пользователь тмп6 редактировать и даже перезаписать полностью

От имени владельца папки с установленным битом можно удалять объекты бе дополниртельных ограничений:


